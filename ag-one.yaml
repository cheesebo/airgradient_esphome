esphome:
  name: ag-one
  friendly_name: AG One

esp32:
  board: esp32-c3-devkitm-1
  framework:
    type: arduino

# Enable logging
logger:

# Enable Home Assistant API
api:
  encryption:
    key: "Ghpy0/y0YPQ1omQu0AFAB6vzU2WCd18+LlA0tkMLcas="

ota:
  password: "1100bc70e5286f0df92cd8a96d356d50"

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password

  # Enable fallback hotspot (captive portal) in case wifi connection fails
  ap:
    ssid: "Ag-One Fallback Hotspot"
    password: "oEmh9MJlMspL"
    
# AirGradient ONE - Board v9
# https://www.airgradient.com/open-airgradient/instructions/overview/

substitutions:
  name: "ag-one"
  friendly_name: "AG One"
  config_version: 2.0.1
  name_add_mac_suffix: "false"  # Must have quotes around value

dashboard_import:
  package_import_url: github://MallocArray/airgradient_esphome/airgradient-one.yaml
  import_full_config: false

packages:
  board: github://MallocArray/airgradient_esphome/packages/airgradient_esp32-c3_board.yaml
  pm_2.5: github://MallocArray/airgradient_esphome/packages/sensor_pms5003_extended_life.yaml
  co2: github://MallocArray/airgradient_esphome/packages/sensor_s8.yaml
  temp_humidity: github://MallocArray/airgradient_esphome/packages/sensor_sht40.yaml
  tvoc: github://MallocArray/airgradient_esphome/packages/sensor_sgp41.yaml
  #display: github://MallocArray/airgradient_esphome/packages/display_sh1106_multi_page.yaml
  display: !include packages/display_sh1106_multi_page.yaml 
  led: github://MallocArray/airgradient_esphome/packages/led.yaml
  #led_brightness: !include packages/led_brightness.yaml
  #led_co2: github://MallocArray/airgradient_esphome/packages/led_co2.yaml
  led_co2: !include packages/led_co2.yaml 
  led_aqi: !include packages/led_aqi.yaml
  led_voc: !include packages/led_voc.yaml   
  led_nox: !include packages/led_nox.yaml   
  airgradient_api: github://MallocArray/airgradient_esphome/packages/airgradient_api_esp32-c3.yaml
  hardware_watchdog: github://MallocArray/airgradient_esphome/packages/watchdog.yaml
  config_button: github://MallocArray/airgradient_esphome/packages/config_button.yaml
  wifi: github://MallocArray/airgradient_esphome/packages/sensor_wifi.yaml
  uptime: github://MallocArray/airgradient_esphome/packages/sensor_uptime.yaml
  safe_mode: github://MallocArray/airgradient_esphome/packages/switch_safe_mode.yaml

binary_sensor:
  - id: !extend config_button
    pin:
      ignore_strapping_warning: true  # Acknowledging that this is a strapping pin and should not have external pullup/down resistors  https://esphome.io/guides/faq.html#why-am-i-getting-a-warning-about-strapping-pins#    